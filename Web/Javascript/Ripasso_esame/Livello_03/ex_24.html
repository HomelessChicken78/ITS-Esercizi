<!-- 24. Media Totale con Map + Reduce
Richiesto: media dei voti per studente e media generale.
Usare: map per singole medie e reduce per media finale.
Risultato: valore unico che rappresenta la media complessiva. -->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reduce su array</title>
</head>

<body>
    <div id="result"></div>



    <script>
        let result = document.getElementById('result');

        const studenti = [
            {
                name: "Giacomo",
                grades: [7, 8, 9, 6]
            },
            {
                name: "David",
                grades: [6, 5, 8, 7]
            },
            {
                name: "Ferdinando",
                grades: [9, 9, 10, 8]
            },
            {
                name: "Mario",
                grades: [5, 6, 7, 8]
            },
            {
                name: "Drago",
                grades: [7, 7, 6, 7]
            }
        ];

        const means = studenti.map((stud) => {
            return stud.grades.reduce((tot, grade) => {
                return tot + grade;
            }) / stud.grades.length
        }, 0);

        result.innerHTML = means.reduce((tot, avg_stud) => {
            return tot + avg_stud
        }, 0) / means.length
    </script>
</body>

</html>